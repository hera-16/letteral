# Server Configuration
server.port=${SERVER_PORT:8080}

# MySQL Database Configuration
# 本番環境では環境変数で設定してください
# 例: SPRING_DATASOURCE_URL=jdbc:mysql://your-db-host:3306/chatapp?useSSL=true&serverTimezone=Asia/Tokyo
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/chatapp?useSSL=false&serverTimezone=Asia/Tokyo&allowPublicKeyRetrieval=true}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:chatapp_user}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:chatapp_password}

# JPA Configuration
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Tokyo

# SQL Initialization
spring.sql.init.mode=always
spring.sql.init.continue-on-error=true
spring.jpa.defer-datasource-initialization=true

# JWT Configuration
# 環境変数JWT_SECRETから読み込み。未設定の場合はデフォルト値を使用
# 生成方法: PowerShell: [Convert]::ToBase64String((1..64 | ForEach-Object { Get-Random -Minimum 0 -Maximum 256 }))
# 本番環境では必ず環境変数JWT_SECRETを設定してください
jwt.secret=${JWT_SECRET:changeme-please-set-jwt-secret-environment-variable}
jwt.expiration=86400000

# CORS Configuration
# 本番環境では環境変数CORS_ALLOWED_ORIGINSで設定してください
# 例: CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com,https://www.your-frontend-domain.com
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:3001}